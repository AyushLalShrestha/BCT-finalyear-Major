{% load static %}

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>
        {% block title %} {% endblock %}
    </title>

    <script src="{% static 'js/jquery.min.js' %}"></script>    
    <script src="{% static 'js/bootstrap.min.js' %}"></script> 
    <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}" />
    <link rel="stylesheet" href="{% static 'css/bootstrap-theme.min.css' %}" />
</head>

{% include 'navbar.html' %}


    <body>
        <div class="container">
            {% block content %} {% endblock %}
        </div>

    <script>
      function updateCartItemCount(){
     	var badge = $("#cart-count-badge");

     	$.ajax({
     		type: "GET",
     		url: "{% url 'item_count' %}",
     		success: function(data){
     			badge.text(data.count);

     		},
     		error: function(response, error) {
     			console.log(response)
     			console.log(error);
     		}

     	})

     }
     $(document).ready(function(){

     	updateCartItemCount();
     })

     </script>
    </body>
</html>